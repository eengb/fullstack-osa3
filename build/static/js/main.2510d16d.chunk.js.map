{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","newFilter","onChange","handleFilterChange","PersonForm","onSubmit","addName","newName","handleNameChange","newNumber","handleNumberChange","type","Person","person","handleDelete","className","name","number","onClick","id","Persons","persons","map","fPersons","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","NameObject","post","remove","request","delete","console","log","update","newObject","put","Notification","message","messageColor","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","setMessageColor","useEffect","personService","ip","setFPersons","nameList","p","toLowerCase","filter","event","target","indexOf","personform","preventDefault","includes","rn","concat","setTimeout","confirmUpdate","window","confirm","find","tbUpdatedPersonInfo","error_name","returnedPerson","catch","error","tbDeletedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2510d16d.chunk.js","sourcesContent":["const Filter =(props)=>{\n\n    return(\n      <div>\n          filter shown with: <input \n            value={props.newFilter}\n            onChange={props.handleFilterChange}\n            />\n            </div>\n  \n    )\n  }\n\n  export default Filter","const PersonForm = (props) =>{\n\n    return(\n  \n      <form onSubmit= {props.addName}>\n      <div>\n      name: <input \n        value={props.newName}\n        onChange={props.handleNameChange}\n        />\n        </div>\n        <div>\n        number: <input \n        value={props.newNumber}\n        onChange={props.handleNumberChange}\n        />\n        </div>\n      <button type=\"submit\">add</button>\n    </form>\n    )\n  \n  }\n\n  export default PersonForm","\nconst Persons = (props)=>{\n  \n    if(props.newFilter === ''){\n  \n      return(\n  \n        <ul>\n            {props.persons.map(person => \n               <Person key={person.name} person={person} handleDelete={props.handleDelete}    />\n            )}\n          </ul>\n      )\n  \n      \n    }else {\n    \n    return(\n  \n      <ul>\n          {props.fPersons.map(person => \n             <Person key={person.name} person={person} handleDelete={props.handleDelete}  />\n          )}\n        </ul>\n  \n    )\n          }\n  }\n\n  const Person = ({person, handleDelete}) =>\n  <div className=\"person\">\n    <span className=\"person--name\">{person.name}</span>\n    <span className=\"person--number\">{person.number}</span>\n    <button className=\"button\" onClick={() => handleDelete(person.id)}>\n      Delete\n    </button>\n  </div>\n\n\n\n  \n\n  \n\n  export default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = NameObject => {\n    const request = axios.post(baseUrl, NameObject)\n    return request.then(response => response.data)\n\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  console.log(request)\n  return request.then(response => response.data)\n  }\n\n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n\n\nconst exportedObject ={\n    getAll,create,remove,update\n\n}\nexport default exportedObject\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport './index.css'\nimport personService from './services/persons'\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber]= useState('')\n  const [newFilter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [messageColor, setMessageColor]= useState(true)\n\n \n\n\n\n  const hook = () => {\n    personService\n        .getAll()\n        .then(ip => {\n          setPersons(ip) } )\n      \n  }\n  \n  useEffect(hook, [])\n\n\n\n\n\n\n\n  const [fPersons,setFPersons]= useState(persons)\n\n  const nameList = persons.map(p => p.name.toLowerCase())\n\n  \n  \n  \n  \n  const addName = (event) => {\n    event.preventDefault()\n    \n    \n    const NameObject = {\n      name: newName,\n      number: newNumber\n    }\n\n\n    if (nameList.includes(newName.toLowerCase())===false){\n\n      personService\n      .create(NameObject)\n      .then(rn =>{setPersons(persons.concat(rn))})\n      setErrorMessage(\n        `Added ${newName} `\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000) \n\n      \n      \n      \n\n\n      \n\n\n    }else{\n\n    const confirmUpdate = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one? `)\n\n\n      const person = persons.find((p) => p.name.toLowerCase() === newName.toLowerCase())\n\n\n      const {id} =person\n      \n\n\n\n      const tbUpdatedPersonInfo = {...person, number:newNumber}\n      \n\n      if (confirmUpdate){\n\n        const error_name= newName\n\n        personService\n        .update(id, tbUpdatedPersonInfo)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.map((person) =>\n              person.id !== id ? person : returnedPerson)\n          )\n          setNewName('')\n          setNewNumber('')\n          setFilter('')\n         \n        })\n        .catch(error => {\n          setMessageColor(false)\n          setErrorMessage(`Person '${error_name}' was already removed from server`)\n          setTimeout(() => {setMessageColor(true) && setErrorMessage(null)}, 5000)})\n\n        setErrorMessage(\n          `Updated ${newName} `\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000) \n        \n        setNewName('')\n        setNewNumber('')\n        setFilter('')\n    \n    }else{\n  \n      console.log(\"no changes done\")\n    }\n  }\n}\n  \n\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n\n    setFPersons(persons.filter((person) => (person.name.toLowerCase().indexOf(event.target.value.toLowerCase()) !==-1)))\n    \n  }\n\n\n  const handleDelete = (id) => {\n\n    const tbDeletedPerson = persons.find((p) => p.id === id)\n\n    const error_name = tbDeletedPerson.name\n\n    const confirmDelete = window.confirm(`Delete ${tbDeletedPerson.name}?`)\n\n    if (confirmDelete) {\n\n      personService.remove(id).then(() => {const fPersons = persons.filter((p) => p.id !== id)\n        setPersons(fPersons)\n      \n      })\n        .catch(error => {\n          setMessageColor(false)\n          setErrorMessage(`Person ${error_name} was already removed from server`)\n          setTimeout(() => {setMessageColor(true) && setErrorMessage(null)}, 5000)})\n          \n           \n\n\n        setErrorMessage(\n          `Deleted ${tbDeletedPerson.name} `\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n\n\n        const fPersons = persons.filter((p) => p.id !== id)\n        setPersons(fPersons)\n \n        setFilter(\"\")\n\n     \n\n    }\n\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage } messageColor={messageColor} />\n      < Filter filter newFilter = {newFilter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      < PersonForm personform addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons p fPersons={fPersons} persons={persons} newFilter={newFilter} handleDelete={handleDelete} />  \n    </div>\n  )\n\n}\n\nconst Notification = ({ message, messageColor }) => {\n  if (message === null) {\n    return null\n  }\n  if (messageColor===true) {\n    return(\n    <div className=\"errorGreen\">\n      {message}\n    </div>)\n  }else{\n\n\n  return (\n    <div className=\"errorRed\">\n      {message}\n    </div>\n  )\n}\n}\n\n\n\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}